{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Aind.Behavior.VrForaging.Curricula","text":"<p>A repository of curricula for VR foraging task.</p>"},{"location":"#how-to-run-a-specific-curriculum","title":"How to run a specific curriculum?","text":"<p>Curricula are modules of the main package: <code>aind_behavior_vr_foraging_curricula.&lt;curriculum_name&gt;</code>. </p> <p>All curricula are available via the <code>curriculum</code> cli entry point. Available list of commands is printed with the <code>-h</code> flag:</p> <pre><code>uv run curriculum -h\n</code></pre>"},{"location":"#list-available-curricula","title":"List available curricula","text":"<p>Available curricula can be listed from the cli using:</p> <pre><code>uv run curriculum list\n</code></pre>"},{"location":"#running-a-curriculum","title":"Running a curriculum","text":"<p>Curricula can be run using the <code>run</code> subcommand of the <code>curriculum</code> cli entry point.</p> <pre><code>uv run curriculum run -h\n</code></pre> <p>The following arguments are available for the <code>run</code> subcommand:</p> <ul> <li><code>--data-directory</code>: Path to the session data directory that will be used to calculate metrics (required)</li> <li><code>--input-trainer-state</code>: Path to a deserialized json file with the current trainer state (required)</li> <li><code>--mute-suggestion</code>: Disables the suggestion output (optional)</li> <li><code>--output-suggestion</code>: A path to save the serialized suggestion (optional)</li> <li><code>--curriculum</code>: The name of the curriculum to run (optional)</li> </ul> <p>For a quick \"demo\" to ensure everything is working, you can run:</p> <pre><code>uv run curriculum run --data-directory \"demo\" --input-trainer-state \"foo.json\" --curriculum \"template\"\n</code></pre> <p>For real-world applications, you may want to omit the \"--curriculum\" flag and let the system automatically detect the curriculum from the trainer state.</p>"},{"location":"#style-guide","title":"Style guide","text":"<p>To keep things clear, I suggest the following naming convention:</p> <ul> <li>Policies should start with <code>p_</code> (e.g., <code>p_identity_policy</code>)</li> <li>Policy transitions should start with <code>pt_</code></li> <li>Stages should start with <code>s_</code> (e.g., <code>s_stage1</code>)</li> <li>Stage transitions should start with <code>st_</code> and should be named after the stages they transition between (e.g., <code>st_s_stage1_s_stage2</code>)</li> </ul> <p>Define the following modules:</p> <ul> <li>metrics: Defines (or imports) metrics classes and how to calculate them from data</li> <li>stages: Defines the different stages of the VR foraging task. This includes task settings and, optionally, policies</li> <li>curriculum: Defines the transitions between the stages and generate entry point to the application</li> </ul>"},{"location":"#contributors","title":"Contributors","text":"<p>Contributions to this repository are welcome! However, please ensure that your code adheres to the recommended DevOps practices below:</p>"},{"location":"#linting","title":"Linting","text":"<p>We use ruff as our primary linting tool.</p>"},{"location":"#testing","title":"Testing","text":"<p>Attempt to add tests when new features are added. To run the currently available tests, run <code>uv run pytest</code> from the root of the repository.</p>"},{"location":"#lock-files","title":"Lock files","text":"<p>We use uv to manage our lock files and therefore encourage everyone to use uv as a package manager as well.</p>"},{"location":"curricula_diagrams/depletion/","title":"depletion","text":"<p>Name: Depletion</p> <p>Version: 0.2.0-rc1</p> <p>Pkg-location: aind_behavior_vr_foraging_curricula.depletion</p>"},{"location":"curricula_diagrams/depletion/#diagram","title":"Diagram","text":""},{"location":"curricula_diagrams/depletion/#specification","title":"Specification","text":"<pre><code>{\n  \"pkg_location\": \"aind_behavior_vr_foraging_curricula.depletion\",\n  \"name\": \"Depletion\",\n  \"version\": \"0.2.0-rc1\",\n  \"graph\": {\n    \"nodes\": {\n      \"0\": {\n        \"name\": \"one_odor_no_depletion\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.0005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.0005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 60.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 10.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZA\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 9999.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 10.0,\n                                \"max\": 30.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 25.0,\n                                \"max\": 75.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 20.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 60.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_no_depletion\"\n        },\n        \"graph\": {\n          \"nodes\": {\n            \"0\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n            \"1\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n            \"2\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n          },\n          \"graph\": {\n            \"0\": [],\n            \"1\": [],\n            \"2\": []\n          }\n        },\n        \"start_policies\": [\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n        ],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"1\": {\n        \"name\": \"one_odor_w_depletion_day_0\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_0\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"2\": {\n        \"name\": \"one_odor_w_depletion_day_1\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_1\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"3\": {\n        \"name\": \"all_odors_rewarded\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"odor_90\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.8795015081718721\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_60\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 2,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.6\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.6\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.6,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.8795015081718721\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.5,\n                        0.5\n                      ],\n                      [\n                        0.5,\n                        0.5\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.5,\n                      0.5\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"all_odors_rewarded\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"4\": {\n        \"name\": \"graduation\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"odor_0\",\n                        \"state_index\": 2,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.8795015081718721\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_90\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.8795015081718721\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_60\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 2,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.6\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.6\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.6,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.8795015081718721\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ],\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ],\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.45,\n                      0.45,\n                      0.1\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"graduation\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      }\n    },\n    \"graph\": {\n      \"0\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_no_depletion_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ]\n      ],\n      \"1\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_0_s_stage_one_odor_w_depletion_day_1\",\n          2\n        ],\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_0_s_stage_all_odors_rewarded\",\n          3\n        ]\n      ],\n      \"2\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ],\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_all_odors_rewarded\",\n          3\n        ]\n      ],\n      \"3\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_all_odors_rewarded_s_stage_graduation\",\n          4\n        ]\n      ],\n      \"4\": []\n    }\n  }\n}\n</code></pre>"},{"location":"curricula_diagrams/depletion_stops_offset/","title":"depletion_stops_offset","text":"<p>Name: DepletionStopsOffset</p> <p>Version: 0.2.0-rc1</p> <p>Pkg-location: aind_behavior_vr_foraging_curricula.depletion_stops_offset</p>"},{"location":"curricula_diagrams/depletion_stops_offset/#diagram","title":"Diagram","text":""},{"location":"curricula_diagrams/depletion_stops_offset/#specification","title":"Specification","text":"<pre><code>{\n  \"pkg_location\": \"aind_behavior_vr_foraging_curricula.depletion_stops_offset\",\n  \"name\": \"DepletionStopsOffset\",\n  \"version\": \"0.2.0-rc1\",\n  \"graph\": {\n    \"nodes\": {\n      \"0\": {\n        \"name\": \"one_odor_no_depletion\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.0005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.0005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 60.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 10.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZA\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 9999.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 10.0,\n                                \"max\": 30.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 25.0,\n                                \"max\": 75.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 20.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 60.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_no_depletion\"\n        },\n        \"graph\": {\n          \"nodes\": {\n            \"0\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n            \"1\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n            \"2\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n          },\n          \"graph\": {\n            \"0\": [],\n            \"1\": [],\n            \"2\": []\n          }\n        },\n        \"start_policies\": [\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n        ],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"1\": {\n        \"name\": \"one_odor_w_depletion_day_0\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_0\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"2\": {\n        \"name\": \"one_odor_w_depletion_day_1\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_1\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"3\": {\n        \"name\": \"all_odors_rewarded\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"odor_90\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9569439845429\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9569439845429\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9569439845429,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9405088708\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_60\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 2,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.637962656361981\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.637962656361981\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.637962656361981,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9405088708\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.5,\n                        0.5\n                      ],\n                      [\n                        0.5,\n                        0.5\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.5,\n                      0.5\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"all_odors_rewarded_stops_offset\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"4\": {\n        \"name\": \"graduation\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"odor_0\",\n                        \"state_index\": 2,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.8795015081718721\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_90\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9569439845429\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9569439845429\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9569439845429,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9405088708\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_60\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 2,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.637962656361981\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.637962656361981\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.637962656361981,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9405088708\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ],\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ],\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.45,\n                      0.45,\n                      0.1\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"graduation_stops_offset\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      }\n    },\n    \"graph\": {\n      \"0\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_no_depletion_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ]\n      ],\n      \"1\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_0_s_stage_one_odor_w_depletion_day_1\",\n          2\n        ],\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_0_s_stage_all_odors_rewarded\",\n          3\n        ]\n      ],\n      \"2\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ],\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_all_odors_rewarded\",\n          3\n        ]\n      ],\n      \"3\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_all_odors_rewarded_s_stage_graduation\",\n          4\n        ]\n      ],\n      \"4\": []\n    }\n  }\n}\n</code></pre>"},{"location":"curricula_diagrams/depletion_stops_rate/","title":"depletion_stops_rate","text":"<p>Name: DepletionStopsRate</p> <p>Version: 0.2.0-rc1</p> <p>Pkg-location: aind_behavior_vr_foraging_curricula.depletion_stops_rate</p>"},{"location":"curricula_diagrams/depletion_stops_rate/#diagram","title":"Diagram","text":""},{"location":"curricula_diagrams/depletion_stops_rate/#specification","title":"Specification","text":"<pre><code>{\n  \"pkg_location\": \"aind_behavior_vr_foraging_curricula.depletion_stops_rate\",\n  \"name\": \"DepletionStopsRate\",\n  \"version\": \"0.2.0-rc1\",\n  \"graph\": {\n    \"nodes\": {\n      \"0\": {\n        \"name\": \"one_odor_no_depletion\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.0005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.0005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 60.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 10.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZA\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 9999.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 10.0,\n                                \"max\": 30.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 25.0,\n                                \"max\": 75.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 20.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 60.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_no_depletion\"\n        },\n        \"graph\": {\n          \"nodes\": {\n            \"0\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n            \"1\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n            \"2\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n          },\n          \"graph\": {\n            \"0\": [],\n            \"1\": [],\n            \"2\": []\n          }\n        },\n        \"start_policies\": [\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n        ],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"1\": {\n        \"name\": \"one_odor_w_depletion_day_0\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_0\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"2\": {\n        \"name\": \"one_odor_w_depletion_day_1\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_1\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"3\": {\n        \"name\": \"all_odors_rewarded\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"odor_slow\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.929814241484\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.929814241484\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.929814241484,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.969\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_fast\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 2,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9569439845429\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9569439845429\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9569439845429,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9405088708\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.5,\n                        0.5\n                      ],\n                      [\n                        0.5,\n                        0.5\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.5,\n                      0.5\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"all_odors_rewarded_stops_rate\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"4\": {\n        \"name\": \"graduation\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"odor_0\",\n                        \"state_index\": 2,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_slow\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.929814241484\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.929814241484\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.929814241484,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.969\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"odor_fast\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 2,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.5,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 1.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9569439845429\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9569439845429\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9569439845429,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9405088708\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ],\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ],\n                      [\n                        0.45,\n                        0.45,\n                        0.1\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.45,\n                      0.45,\n                      0.1\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"graduation_stops_rate\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      }\n    },\n    \"graph\": {\n      \"0\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_no_depletion_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ]\n      ],\n      \"1\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_0_s_stage_one_odor_w_depletion_day_1\",\n          2\n        ],\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_0_s_stage_all_odors_rewarded\",\n          3\n        ]\n      ],\n      \"2\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ],\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_all_odors_rewarded\",\n          3\n        ]\n      ],\n      \"3\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_all_odors_rewarded_s_stage_graduation\",\n          4\n        ]\n      ],\n      \"4\": []\n    }\n  }\n}\n</code></pre>"},{"location":"curricula_diagrams/replenishment_depletion_offset/","title":"replenishment_depletion_offset","text":"<p>Name: ReplenishmentDepletionOffset</p> <p>Version: 0.2.0-rc1</p> <p>Pkg-location: aind_behavior_vr_foraging_curricula.replenishment_depletion_offset</p>"},{"location":"curricula_diagrams/replenishment_depletion_offset/#diagram","title":"Diagram","text":""},{"location":"curricula_diagrams/replenishment_depletion_offset/#specification","title":"Specification","text":"<pre><code>{\n  \"pkg_location\": \"aind_behavior_vr_foraging_curricula.replenishment_depletion_offset\",\n  \"name\": \"ReplenishmentDepletionOffset\",\n  \"version\": \"0.2.0-rc1\",\n  \"graph\": {\n    \"nodes\": {\n      \"0\": {\n        \"name\": \"one_odor_no_depletion\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.0005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.0005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 60.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 10.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZA\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 9999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 9999.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnChoice\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 10.0,\n                                \"max\": 30.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 25.0,\n                                \"max\": 75.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 20.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 60.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_no_depletion\"\n        },\n        \"graph\": {\n          \"nodes\": {\n            \"0\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n            \"1\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n            \"2\": \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n          },\n          \"graph\": {\n            \"0\": [],\n            \"1\": [],\n            \"2\": []\n          }\n        },\n        \"start_policies\": [\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_run\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_learn_to_stop\",\n          \"aind_behavior_vr_foraging_curricula.depletion.policies.p_stochastic_reward\"\n        ],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"1\": {\n        \"name\": \"one_odor_w_depletion_day_0\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_0\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"2\": {\n        \"name\": \"one_odor_w_depletion_day_1\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.4,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.25,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 25.0,\n                  \"on_success\": 0.96,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.96,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"PatchZB\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Normal\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Normal\",\n                              \"mean\": 0.0,\n                              \"std\": 0.15\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 0.75\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 40.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 40.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 0.9,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9752\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 40.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -5.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.01\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 200.0,\n                                \"max\": 600.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": null\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"one_odor_w_depletion_day_1\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      },\n      \"3\": {\n        \"name\": \"mcm_final_stage\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"High\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 2,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.3,\n                                \"maximum\": 1.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            },\n                            {\n                              \"function_type\": \"OutsideRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"CtcmFunction\",\n                                \"transition_matrix\": [\n                                  [\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243106e-13,\n                                    1.3750692135405164e-15,\n                                    1.9643845907753953e-18,\n                                    2.4554807368734783e-21,\n                                    2.7283124568977948e-24,\n                                    2.7282089914862647e-27,\n                                    2.4890718422790115e-30,\n                                    2.1597201264627186e-33,\n                                    2.0844429013838065e-36,\n                                    2.947663891077428e-39,\n                                    5.908863272340155e-42\n                                  ],\n                                  [\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243102e-13,\n                                    1.3750692135405208e-15,\n                                    1.964384590775387e-18,\n                                    2.455480736873489e-21,\n                                    2.728312456897764e-24,\n                                    2.7282089914862906e-27,\n                                    2.4890718422789498e-30,\n                                    2.1597201264629376e-33,\n                                    2.0844429013836448e-36,\n                                    2.953572754349825e-39\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.125207640621544e-10,\n                                    8.250415281243114e-13,\n                                    1.3750692135405176e-15,\n                                    1.964384590775389e-18,\n                                    2.455480736873477e-21,\n                                    2.728312456897789e-24,\n                                    2.728208991486252e-27,\n                                    2.4890718422790955e-30,\n                                    2.159720126462794e-33,\n                                    2.0873964741380686e-36\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.650083056248616e-7,\n                                    4.125207640621546e-10,\n                                    8.250415281243107e-13,\n                                    1.3750692135405178e-15,\n                                    1.964384590775385e-18,\n                                    2.4554807368734953e-21,\n                                    2.7283124568977624e-24,\n                                    2.728208991486329e-27,\n                                    2.489071842278989e-30,\n                                    2.1618075229369983e-33\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243106e-13,\n                                    1.3750692135405164e-15,\n                                    1.9643845907753953e-18,\n                                    2.4554807368734783e-21,\n                                    2.7283124568977948e-24,\n                                    2.7282089914862647e-27,\n                                    2.491233649801972e-30\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243102e-13,\n                                    1.3750692135405208e-15,\n                                    1.964384590775387e-18,\n                                    2.455480736873489e-21,\n                                    2.728312456897764e-24,\n                                    2.730700225136091e-27\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.125207640621544e-10,\n                                    8.250415281243114e-13,\n                                    1.3750692135405176e-15,\n                                    1.964384590775389e-18,\n                                    2.455480736873477e-21,\n                                    2.7310431571229078e-24\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.650083056248616e-7,\n                                    4.125207640621546e-10,\n                                    8.250415281243107e-13,\n                                    1.3750692135405178e-15,\n                                    1.964384590775385e-18,\n                                    2.4582117800305993e-21\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243106e-13,\n                                    1.3750692135405164e-15,\n                                    1.966842802555413e-18\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243102e-13,\n                                    1.37703605634307e-15\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.125207640621544e-10,\n                                    8.264185641806523e-13\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.650083056248616e-7,\n                                    4.133471826263347e-10\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6542165280748786e-7\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004966791334026592\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009950166250831949\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    1.0\n                                  ]\n                                ],\n                                \"rho\": 0.9,\n                                \"minimum\": 0.3,\n                                \"maximum\": 1.0\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnTime\",\n                              \"delay\": 5.0\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 140.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"Medium\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.8\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.3,\n                                \"maximum\": 0.8,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            },\n                            {\n                              \"function_type\": \"OutsideRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"CtcmFunction\",\n                                \"transition_matrix\": [\n                                  [\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243106e-13,\n                                    1.3750692135405164e-15,\n                                    1.9643845907753953e-18,\n                                    2.4554807368734874e-21,\n                                    2.7283124568977948e-24,\n                                    2.7282089914862647e-27,\n                                    2.4912336498019357e-30\n                                  ],\n                                  [\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243102e-13,\n                                    1.3750692135405208e-15,\n                                    1.964384590775389e-18,\n                                    2.455480736873489e-21,\n                                    2.728312456897764e-24,\n                                    2.730700225136071e-27\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.125207640621544e-10,\n                                    8.250415281243114e-13,\n                                    1.375069213540518e-15,\n                                    1.964384590775389e-18,\n                                    2.455480736873477e-21,\n                                    2.7310431571229004e-24\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.650083056248616e-7,\n                                    4.125207640621546e-10,\n                                    8.250415281243107e-13,\n                                    1.3750692135405178e-15,\n                                    1.964384590775385e-18,\n                                    2.4582117800305978e-21\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243106e-13,\n                                    1.3750692135405164e-15,\n                                    1.966842802555413e-18\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243102e-13,\n                                    1.37703605634307e-15\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.125207640621544e-10,\n                                    8.264185641806523e-13\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.650083056248616e-7,\n                                    4.133471826263347e-10\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6542165280748786e-7\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004966791334026592\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009950166250831949\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    1.0\n                                  ]\n                                ],\n                                \"rho\": 0.9,\n                                \"minimum\": 0.3,\n                                \"maximum\": 0.8\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnTime\",\n                              \"delay\": 5.0\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 140.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"Low\",\n                        \"state_index\": 2,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.4\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"ClampedMultiplicativeRateFunction\",\n                                \"minimum\": 0.3,\n                                \"maximum\": 0.4,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            },\n                            {\n                              \"function_type\": \"OutsideRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"CtcmFunction\",\n                                \"transition_matrix\": [\n                                  [\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.250415281243106e-13,\n                                    1.3770360563430727e-15\n                                  ],\n                                  [\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1252076406215455e-10,\n                                    8.264185641806533e-13\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6500830562486162e-7,\n                                    4.1334718262633497e-10\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004950249168745844,\n                                    1.6542165280748788e-7\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009900498337491685,\n                                    0.00004966791334026592\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.9900498337491681,\n                                    0.009950166250831949\n                                  ],\n                                  [\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    0.0,\n                                    1.0\n                                  ]\n                                ],\n                                \"rho\": 0.9,\n                                \"minimum\": 0.3,\n                                \"maximum\": 0.4\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnTime\",\n                              \"delay\": 5.0\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.05\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 20.0,\n                                \"max\": 100.0\n                              },\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 140.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.0,\n                        1.0,\n                        0.0\n                      ],\n                      [\n                        0.0,\n                        0.0,\n                        1.0\n                      ],\n                      [\n                        1.0,\n                        0.0,\n                        0.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.33,\n                      0.33,\n                      0.33\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Random\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"mcm_final_stage\"\n        },\n        \"graph\": {\n          \"nodes\": {\n            \"0\": \"aind_behavior_vr_foraging_curricula.replenishment_depletion_offset.policies.p_update_replenishment_rate\"\n          },\n          \"graph\": {\n            \"0\": []\n          }\n        },\n        \"start_policies\": [\n          \"aind_behavior_vr_foraging_curricula.replenishment_depletion_offset.policies.p_update_replenishment_rate\"\n        ],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.depletion.metrics.metrics_from_dataset\"\n      }\n    },\n    \"graph\": {\n      \"0\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_no_depletion_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ]\n      ],\n      \"1\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_0_s_stage_one_odor_w_depletion_day_1\",\n          2\n        ]\n      ],\n      \"2\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_one_odor_w_depletion_day_0\",\n          1\n        ],\n        [\n          \"aind_behavior_vr_foraging_curricula.depletion.curriculum.st_s_stage_one_odor_w_depletion_day_1_s_stage_all_odors_rewarded\",\n          3\n        ]\n      ],\n      \"3\": []\n    }\n  }\n}\n</code></pre>"},{"location":"curricula_diagrams/single_site_matching/","title":"single_site_matching","text":"<p>Name: SingleSiteMatching</p> <p>Version: 0.2.0-rc1</p> <p>Pkg-location: aind_behavior_vr_foraging_curricula.single_site_matching</p>"},{"location":"curricula_diagrams/single_site_matching/#diagram","title":"Diagram","text":""},{"location":"curricula_diagrams/single_site_matching/#specification","title":"Specification","text":"<pre><code>{\n  \"pkg_location\": \"aind_behavior_vr_foraging_curricula.single_site_matching\",\n  \"name\": \"SingleSiteMatching\",\n  \"version\": \"0.2.0-rc1\",\n  \"graph\": {\n    \"nodes\": {\n      \"0\": {\n        \"name\": \"learn_to_stop\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.003,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.003,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.6\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 60.0,\n                  \"on_success\": 0.995,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.995,\n                  \"decrement\": 0.0,\n                  \"minimum\": 8.0,\n                  \"maximum\": 60.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"OdorA\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PersistentRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Binomial\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Binomial\",\n                                    \"n\": 1,\n                                    \"p\": 1.0\n                                  },\n                                  \"truncation_parameters\": {\n                                    \"truncation_mode\": \"clamp\",\n                                    \"min\": 1.0,\n                                    \"max\": 1.0\n                                  },\n                                  \"scaling_parameters\": {\n                                    \"scale\": 1.0,\n                                    \"offset\": 1.0\n                                  }\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 15.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.008333333333333333\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 50.0,\n                                \"max\": 150.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 50.0\n                              }\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 40.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnChoice\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          },\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"OdorB\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PersistentRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Binomial\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Binomial\",\n                                    \"n\": 1,\n                                    \"p\": 1.0\n                                  },\n                                  \"truncation_parameters\": {\n                                    \"truncation_mode\": \"clamp\",\n                                    \"min\": 1.0,\n                                    \"max\": 1.0\n                                  },\n                                  \"scaling_parameters\": {\n                                    \"scale\": 1.0,\n                                    \"offset\": 1.0\n                                  }\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 15.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.008333333333333333\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 50.0,\n                                \"max\": 150.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 50.0\n                              }\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 40.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnChoice\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          },\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.5,\n                        0.5\n                      ],\n                      [\n                        0.5,\n                        0.5\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.5,\n                      0.5\n                    ]\n                  },\n                  \"end_conditions\": [\n                    {\n                      \"condition_type\": \"PatchCount\",\n                      \"value\": {\n                        \"family\": \"Exponential\",\n                        \"distribution_parameters\": {\n                          \"family\": \"Exponential\",\n                          \"rate\": 0.04\n                        },\n                        \"truncation_parameters\": {\n                          \"truncation_mode\": \"exclude\",\n                          \"min\": 100000.0,\n                          \"max\": 100050.0\n                        },\n                        \"scaling_parameters\": {\n                          \"scale\": 1.0,\n                          \"offset\": 100000.0\n                        }\n                      }\n                    }\n                  ]\n                }\n              ],\n              \"sampling_mode\": \"Sequential\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 60.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"learn_to_stop\"\n        },\n        \"graph\": {\n          \"nodes\": {\n            \"0\": \"aind_behavior_vr_foraging_curricula.single_site_matching.policies.p_learn_to_stop\"\n          },\n          \"graph\": {\n            \"0\": []\n          }\n        },\n        \"start_policies\": [\n          \"aind_behavior_vr_foraging_curricula.single_site_matching.policies.p_learn_to_stop\"\n        ],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.single_site_matching.metrics.metrics_from_dataset\"\n      },\n      \"1\": {\n        \"name\": \"graduated_stage\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": null,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {},\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"OdorA\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 7.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PersistentRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Binomial\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Binomial\",\n                                    \"n\": 1,\n                                    \"p\": 0.45\n                                  },\n                                  \"truncation_parameters\": {\n                                    \"truncation_mode\": \"clamp\",\n                                    \"min\": 0.9,\n                                    \"max\": 1.0\n                                  },\n                                  \"scaling_parameters\": {\n                                    \"scale\": 1.0,\n                                    \"offset\": 0.9\n                                  }\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 15.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.016666666666666666\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 30.0,\n                                \"max\": 190.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 30.0\n                              }\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnChoice\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          },\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"OdorB\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 7.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.1\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PersistentRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Binomial\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Binomial\",\n                                    \"n\": 1,\n                                    \"p\": 0.05\n                                  },\n                                  \"truncation_parameters\": {\n                                    \"truncation_mode\": \"clamp\",\n                                    \"min\": 0.1,\n                                    \"max\": 1.0\n                                  },\n                                  \"scaling_parameters\": {\n                                    \"scale\": 1.0,\n                                    \"offset\": 0.1\n                                  }\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.1\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 15.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.016666666666666666\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 30.0,\n                                \"max\": 190.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 30.0\n                              }\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnChoice\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          },\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.5,\n                        0.5\n                      ],\n                      [\n                        0.5,\n                        0.5\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.5,\n                      0.5\n                    ]\n                  },\n                  \"end_conditions\": [\n                    {\n                      \"condition_type\": \"PatchCount\",\n                      \"value\": {\n                        \"family\": \"Exponential\",\n                        \"distribution_parameters\": {\n                          \"family\": \"Exponential\",\n                          \"rate\": 0.04\n                        },\n                        \"truncation_parameters\": {\n                          \"truncation_mode\": \"exclude\",\n                          \"min\": 40.0,\n                          \"max\": 90.0\n                        },\n                        \"scaling_parameters\": {\n                          \"scale\": 1.0,\n                          \"offset\": 40.0\n                        }\n                      }\n                    }\n                  ]\n                },\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"OdorA\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 7.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.1\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PersistentRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Binomial\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Binomial\",\n                                    \"n\": 1,\n                                    \"p\": 0.05\n                                  },\n                                  \"truncation_parameters\": {\n                                    \"truncation_mode\": \"clamp\",\n                                    \"min\": 0.1,\n                                    \"max\": 1.0\n                                  },\n                                  \"scaling_parameters\": {\n                                    \"scale\": 1.0,\n                                    \"offset\": 0.1\n                                  }\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.1\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 15.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.016666666666666666\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 30.0,\n                                \"max\": 190.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 30.0\n                              }\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnChoice\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          },\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"OdorB\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.5\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 100000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.5\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 7.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 0.9\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 999999.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PersistentRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Binomial\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Binomial\",\n                                    \"n\": 1,\n                                    \"p\": 0.45\n                                  },\n                                  \"truncation_parameters\": {\n                                    \"truncation_mode\": \"clamp\",\n                                    \"min\": 0.9,\n                                    \"max\": 1.0\n                                  },\n                                  \"scaling_parameters\": {\n                                    \"scale\": 1.0,\n                                    \"offset\": 0.9\n                                  }\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnPatchEntry\"\n                            },\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.9\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"available\": null,\n                              \"rule\": \"OnReward\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 15.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 0.016666666666666666\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 30.0,\n                                \"max\": 190.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 30.0\n                              }\n                            },\n                            \"treadmill_specification\": null\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 50.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"treadmill_specification\": null\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnChoice\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          },\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        0.5,\n                        0.5\n                      ],\n                      [\n                        0.5,\n                        0.5\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      0.5,\n                      0.5\n                    ]\n                  },\n                  \"end_conditions\": [\n                    {\n                      \"condition_type\": \"PatchCount\",\n                      \"value\": {\n                        \"family\": \"Exponential\",\n                        \"distribution_parameters\": {\n                          \"family\": \"Exponential\",\n                          \"rate\": 0.04\n                        },\n                        \"truncation_parameters\": {\n                          \"truncation_mode\": \"exclude\",\n                          \"min\": 40.0,\n                          \"max\": 90.0\n                        },\n                        \"scaling_parameters\": {\n                          \"scale\": 1.0,\n                          \"offset\": 40.0\n                        }\n                      }\n                    }\n                  ]\n                }\n              ],\n              \"sampling_mode\": \"Random\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": false,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 0.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 10.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 8.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 9999.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": \"graduated_stage\"\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.single_site_matching.metrics.metrics_from_dataset\"\n      }\n    },\n    \"graph\": {\n      \"0\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.single_site_matching.curriculum.st_s_learn_to_stop_to_s_graduated_stage\",\n          1\n        ]\n      ],\n      \"1\": []\n    }\n  }\n}\n</code></pre>"},{"location":"curricula_diagrams/template/","title":"template","text":"<p>Name: TemplateCurriculum</p> <p>Version: 0.2.0-rc1</p> <p>Pkg-location: aind_behavior_vr_foraging_curricula.template</p>"},{"location":"curricula_diagrams/template/#diagram","title":"Diagram","text":""},{"location":"curricula_diagrams/template/#specification","title":"Specification","text":"<pre><code>{\n  \"pkg_location\": \"aind_behavior_vr_foraging_curricula.template\",\n  \"name\": \"TemplateCurriculum\",\n  \"version\": \"0.2.0-rc1\",\n  \"graph\": {\n    \"nodes\": {\n      \"0\": {\n        \"name\": \"stage_a\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": 1.0,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.2\n                }\n              },\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 40.0,\n                  \"on_success\": 0.0,\n                  \"on_failure\": -0.25,\n                  \"increment\": 0.0,\n                  \"decrement\": -0.25,\n                  \"minimum\": 10.0,\n                  \"maximum\": 40.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"reset\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.2\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 1000000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Exponential\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Exponential\",\n                              \"rate\": 1.0\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 10.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 5.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            },\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.1\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"PostPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.5\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"slow-replenish\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.2\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 1000000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Exponential\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Exponential\",\n                              \"rate\": 1.0\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 10.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 5.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            },\n                            {\n                              \"function_type\": \"OutsideRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 5.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnTime\",\n                              \"delay\": 0.0\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0,\n                        0.0\n                      ],\n                      [\n                        0.0,\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      1.0,\n                      0.0\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Random\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": true,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 2000.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 100000.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 40.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 1000.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": null\n        },\n        \"graph\": {\n          \"nodes\": {\n            \"0\": \"aind_behavior_vr_foraging_curricula.template.stages.p_set_mode_from_metric1\"\n          },\n          \"graph\": {\n            \"0\": []\n          }\n        },\n        \"start_policies\": [\n          \"aind_behavior_vr_foraging_curricula.template.stages.p_set_mode_from_metric1\"\n        ],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.template.metrics.metrics_from_dataset\"\n      },\n      \"1\": {\n        \"name\": \"stage_b\",\n        \"task\": {\n          \"name\": \"AindVrForaging\",\n          \"description\": \"\",\n          \"task_parameters\": {\n            \"rng_seed\": 2.0,\n            \"aind_behavior_services_pkg_version\": \"0.12.5\",\n            \"updaters\": {\n              \"RewardDelayOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.2\n                }\n              },\n              \"StopDurationOffset\": {\n                \"operation\": \"Offset\",\n                \"parameters\": {\n                  \"initial_value\": 0.0,\n                  \"on_success\": 0.005,\n                  \"on_failure\": 0.0,\n                  \"increment\": 0.005,\n                  \"decrement\": 0.0,\n                  \"minimum\": 0.0,\n                  \"maximum\": 0.5\n                }\n              },\n              \"StopVelocityThreshold\": {\n                \"operation\": \"Gain\",\n                \"parameters\": {\n                  \"initial_value\": 40.0,\n                  \"on_success\": 0.0,\n                  \"on_failure\": -0.25,\n                  \"increment\": 0.0,\n                  \"decrement\": -0.25,\n                  \"minimum\": 10.0,\n                  \"maximum\": 40.0\n                }\n              }\n            },\n            \"environment\": {\n              \"blocks\": [\n                {\n                  \"environment_statistics\": {\n                    \"patches\": [\n                      {\n                        \"label\": \"reset\",\n                        \"state_index\": 0,\n                        \"odor_specification\": {\n                          \"index\": 1,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.2\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 1000000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Exponential\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Exponential\",\n                              \"rate\": 1.0\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 10.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 5.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            },\n                            {\n                              \"function_type\": \"OnThisPatchEntryRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"SetValueFunction\",\n                                \"value\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 0.1\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnThisPatchEntry\"\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"PostPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.5\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      },\n                      {\n                        \"label\": \"slow-replenish\",\n                        \"state_index\": 1,\n                        \"odor_specification\": {\n                          \"index\": 0,\n                          \"concentration\": 1.0\n                        },\n                        \"reward_specification\": {\n                          \"operant_logic\": {\n                            \"is_operant\": false,\n                            \"stop_duration\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 0.2\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            },\n                            \"time_to_collect_reward\": 1000000.0,\n                            \"grace_distance_threshold\": 10.0\n                          },\n                          \"delay\": {\n                            \"family\": \"Exponential\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Exponential\",\n                              \"rate\": 1.0\n                            },\n                            \"truncation_parameters\": {\n                              \"truncation_mode\": \"exclude\",\n                              \"min\": 0.0,\n                              \"max\": 10.0\n                            },\n                            \"scaling_parameters\": {\n                              \"scale\": 1.0,\n                              \"offset\": 0.0\n                            }\n                          },\n                          \"amount\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"probability\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 1.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"available\": {\n                            \"family\": \"Scalar\",\n                            \"distribution_parameters\": {\n                              \"family\": \"Scalar\",\n                              \"value\": 5.0\n                            },\n                            \"truncation_parameters\": null,\n                            \"scaling_parameters\": null\n                          },\n                          \"reward_function\": [\n                            {\n                              \"function_type\": \"PatchRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 5.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": -1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnReward\"\n                            },\n                            {\n                              \"function_type\": \"OutsideRewardFunction\",\n                              \"amount\": null,\n                              \"probability\": null,\n                              \"available\": {\n                                \"function_type\": \"ClampedRateFunction\",\n                                \"minimum\": 0.0,\n                                \"maximum\": 5.0,\n                                \"rate\": {\n                                  \"family\": \"Scalar\",\n                                  \"distribution_parameters\": {\n                                    \"family\": \"Scalar\",\n                                    \"value\": 1.0\n                                  },\n                                  \"truncation_parameters\": null,\n                                  \"scaling_parameters\": null\n                                }\n                              },\n                              \"rule\": \"OnTime\",\n                              \"delay\": 0.0\n                            }\n                          ]\n                        },\n                        \"patch_virtual_sites_generator\": {\n                          \"inter_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"InterSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"inter_patch\": {\n                            \"render_specification\": {\n                              \"contrast\": 1.0\n                            },\n                            \"label\": \"InterPatch\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          },\n                          \"post_patch\": null,\n                          \"reward_site\": {\n                            \"render_specification\": {\n                              \"contrast\": 0.5\n                            },\n                            \"label\": \"RewardSite\",\n                            \"length_distribution\": {\n                              \"family\": \"Exponential\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Exponential\",\n                                \"rate\": 1.0\n                              },\n                              \"truncation_parameters\": {\n                                \"truncation_mode\": \"exclude\",\n                                \"min\": 0.0,\n                                \"max\": 10.0\n                              },\n                              \"scaling_parameters\": {\n                                \"scale\": 1.0,\n                                \"offset\": 0.0\n                              }\n                            },\n                            \"treadmill_specification\": {\n                              \"friction\": {\n                                \"family\": \"Scalar\",\n                                \"distribution_parameters\": {\n                                  \"family\": \"Scalar\",\n                                  \"value\": 0.0\n                                },\n                                \"truncation_parameters\": null,\n                                \"scaling_parameters\": null\n                              }\n                            }\n                          }\n                        },\n                        \"patch_terminators\": [\n                          {\n                            \"terminator_type\": \"OnRejection\",\n                            \"count\": {\n                              \"family\": \"Scalar\",\n                              \"distribution_parameters\": {\n                                \"family\": \"Scalar\",\n                                \"value\": 1.0\n                              },\n                              \"truncation_parameters\": null,\n                              \"scaling_parameters\": null\n                            }\n                          }\n                        ]\n                      }\n                    ],\n                    \"transition_matrix\": [\n                      [\n                        1.0,\n                        0.0\n                      ],\n                      [\n                        0.0,\n                        1.0\n                      ]\n                    ],\n                    \"first_state_occupancy\": [\n                      1.0,\n                      0.0\n                    ]\n                  },\n                  \"end_conditions\": []\n                }\n              ],\n              \"sampling_mode\": \"Random\"\n            },\n            \"operation_control\": {\n              \"movable_spout_control\": {\n                \"enabled\": true,\n                \"time_to_collect_after_reward\": 1.0,\n                \"retracting_distance\": 2000.0\n              },\n              \"odor_control\": {\n                \"valve_max_open_time\": 100000.0,\n                \"target_total_flow\": 1000.0,\n                \"use_channel_3_as_carrier\": true,\n                \"target_odor_flow\": 100.0\n              },\n              \"position_control\": {\n                \"gain\": {\n                  \"x\": 1.0,\n                  \"y\": 1.0,\n                  \"z\": 1.0\n                },\n                \"initial_position\": {\n                  \"x\": 0.0,\n                  \"y\": 2.56,\n                  \"z\": 0.0\n                },\n                \"frequency_filter_cutoff\": 5.0,\n                \"velocity_threshold\": 40.0\n              },\n              \"audio_control\": {\n                \"duration\": 0.2,\n                \"frequency\": 1000.0\n              }\n            }\n          },\n          \"version\": \"0.6.6\",\n          \"stage_name\": null\n        },\n        \"graph\": {\n          \"nodes\": {},\n          \"graph\": {}\n        },\n        \"start_policies\": [],\n        \"metrics_provider\": \"aind_behavior_vr_foraging_curricula.template.metrics.metrics_from_dataset\"\n      }\n    },\n    \"graph\": {\n      \"0\": [\n        [\n          \"aind_behavior_vr_foraging_curricula.template.curriculum.st_s_stage_a_s_stage_b\",\n          1\n        ]\n      ],\n      \"1\": []\n    }\n  }\n}\n</code></pre>"}]}